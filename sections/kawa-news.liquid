<link rel="stylesheet" href="{{ 'kawa-news.css' | asset_url }}" media="print" onload="this.media='all'"/>

<div class="kawa-news mw-1200-c">
  <div class="news-container flex flex-wrap">
    <h2 class="text-center w-100 pb-5">{{ section.settings.title }}</h2>
    <div class="all-news row w-100">
      {% for block in section.blocks %}
        {%- assign article = block.settings.news_article -%}
        <div class="news-item col-12 col-md-6 col-lg-4" {{ block.shopify_attributes }}>
          <a href="{{ article.url }}" class="news-link w-100">
            <img class="news-img w-100-h-auto pointer" src="{{ article.image | image_url }}" loading="eager" width="100" height="100"/>
          </a>
          <div class="news-info">
            <div class="news-publish-time">
              {{ article.published_at | date: '%B %d, %Y' }}
              <br/>
            </div>
            <h3 class="news-title">
              <a>{{ article.title }}</a>
            </h3>
            <a href="{{ article.url }}" class="view-details-btn">
              <span class="iconify icon-arrow-right" data-icon="dashicons:arrow-right-alt2"></span>
              <span>View Details</span>
            </a>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>

{% schema %}
  {
    "name": "新闻",
    "tag": "section",
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "标题"
      }
    ],
    "blocks": [
      {
        "type": "news-block",
        "name": "新闻文章块",
        "settings": [
          {
            "type": "article",
            "id": "news_article",
            "label": "文章"
          }
        ]
      }
    ]
  }
{% endschema %}